{"version":3,"sources":["first_logo.png","Logo.js","ExportCSV.js","Table.js","TableAns.js","Graph.js","TablePer.js","SleepGraph.js","GraphAns.js","PatientData.js","DisplayButton.js","Search.js","App.js","AddUser.js","Login.js","HomeLogin.js","Home.js","serviceWorker.js","index.js"],"names":["module","exports","Logo","src","require","style","height","alt","ExportCSV","csvData","fileName","className","onClick","e","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","type","data","Blob","FileSaver","exportToCSV","Table","props","state","steps","distance","calories","weather","sleep","dataArr","table","exportCSV","handleChange","bind","event","target","name","value","checked","this","setState","ready","i","noData","length","values","j","dateOStr","week","dates","weekly","day","Date","date","getDay","sun","sat","getTime","toLocaleDateString","month","monthly","avgO","צעדים","מרחק","קלוריות","light","deep","total","sum","counter","showDaily","ValidTime","dateStr","replace","push","firstTime","k","time","dayOfWeek","sunday","saturday","sort","arr","Object","entries","key","key1","last","Math","min","d","setHours","num","floor","toFixed","o","sundayO","firstDay","getFullYear","getMonth","firstDayO","line","width","id","align","Component","TableAns","dateO","text","slice","includes","Graph","sort_by_key","array","a","b","x","y","points","oDay","Data","year","dataX","download","TablePer","dic","QuestionnaireID","Score","SleepGraph","pointsD","pointsL","pointsT","lineD","lineL","lineT","colors","GraphAns","PatientData","q2","q3","q4","q5","user","showPopup","showPopupQ","new_date","Questionnaires","quest1","quest2","quest3","quest4","quest5","quest6","changeDate","togglePopup","handleSubmit","togglePopupQ","handleSubmitQ","preventDefault","axios","post","UserID","DateOfSurgery","headers","sessionStorage","getItem","then","res","window","alert","bmi","parseFloat","sDate","undefined","weekday","gender","pNumber","smoke","sType","weight","today","birthday","age","first","charAt","substring","changeQuest","closePopup","Popup","onSubmit","onChange","React","PopupQ","DisplayButton","graph","styleLabel","fontSize","color","margin","clean","tempDic","temp","arrSteps","arrDis","arrCal","arrWeat","arrSleep","arr1","arr2","arr3","arr4","arr5","arr6","High","periodicAnswers","dailyA","dailyQ","perQ","Search","toISOString","split","list","list1","get","response","names","map","item","trim","uniqueNames","Array","from","Set","pName","fName","end_date","start_date","sleeping_hours","textPopup","numOfUsers","todayDate","optionsPName","optionsLName","getRequest","selectUser","url","getUrl","start_time","end_time","message","da","docs","questionnaire","responseQ","cards","dateC","Card","Body","placeholder","required","max","App","pass","pass2","diff","redirect","logout","change","token","removeItem","localStorage","to","initialState","userName","lName","password","bday","email","questionsID","questionsText","questions","answerUserQuestion","selectedUserType","quesionChosen","AddUser","phone","code","handleReset","onSelect","selectedIndex","options","initialQuestions","initQuestionsID","initQuestionsText","fetch","json","results","obj","QuestionID","QuestionText","bDay","now","Password","First_Name","Last_Name","Phone_Number","BirthDate","Code","VerificationQuestion","VerificationAnswer","location","reload","console","log","optionItems","question","onReset","pattern","Login","ID","wrong","doctor","showID","showWrongUser","showQ","showChange","answer","wrongA","remember","register","setItem","sumbit","forget","handle","changePass","qID","response1","dateLong","HomeLogin","path","pathname","Home","basename","exact","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.0d44f64d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/first_logo.4c4417d4.png\";","import React from \"react\"\r\n\r\nfunction Logo(){\r\n    const style = {\r\n        height: \"25vmin\"\r\n    }\r\n\r\n    return (\r\n        <img src={require(\"./first_logo.png\")} style={style} alt=\"logo\" />\r\n    )\r\n}\r\n\r\nexport default Logo","import React from 'react'\r\n//import Button from 'react-bootstrap/Button';\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport \"./ExportCSV.css\"\r\n\r\nexport const ExportCSV = ({csvData, fileName}) => {\r\n\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const exportToCSV = (csvData, fileName) => {\r\n        const ws = XLSX.utils.json_to_sheet(csvData);\r\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], {type: fileType});\r\n        FileSaver.saveAs(data, fileName + fileExtension);\r\n    }\r\n\r\n    return (\r\n        <button className=\"b\" onClick={(e) => exportToCSV(csvData,fileName)}>יצא לאקסל</button>\r\n    )\r\n}","import React, {Component} from \"react\";\r\nimport {ExportCSV} from \"./ExportCSV\";\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            steps: props.steps,\r\n            distance : props.distance,\r\n            calories: props.calories,\r\n            weather: props.weather,\r\n            sleep: props.sleep,\r\n            dataArr: props.dataArr,\r\n            table: [],\r\n            exportCSV: []\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n    render() {\r\n        require(\"./Table.css\");\r\n        if(this.props.ready){\r\n            var noData = true;\r\n            var i\r\n            for(i = 0; i < this.props.dataArr.length; i++){\r\n                if(this.props.dataArr[i].values.length > 0){\r\n                    noData = false\r\n                }\r\n            }\r\n            if(!noData){\r\n                var table = {};\r\n                var j, week = false;\r\n                var dates = [];\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {צעדים: {}, מרחק: {}, קלוריות: {}, weather: {}, light: {}, deep: {}, total: {}};\r\n                avgO[\"after\"] = {צעדים: {}, מרחק: {}, קלוריות: {}, weather: {}, light: {}, deep: {}, total: {}};\r\n                avgO[\"before\"][\"צעדים\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"מרחק\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"קלוריות\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"weather\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"צעדים\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"מרחק\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"קלוריות\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"weather\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"total\"] = {sum: 0, counter: 0};\r\n                for(i = 0; i < this.props.dataArr.length; i++){\r\n                    for(j = 0; j < this.props.dataArr[i].values.length; j++){\r\n                        if(this.props.showDaily){\r\n                            var date = new Date(this.props.dataArr[i].values[j].ValidTime);\r\n                            var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                            var deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(var k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    var time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else{\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                table[dateStr][\"light\"] = light;\r\n                                table[dateStr][\"deep\"] = deep;\r\n                                table[dateStr][\"total\"] = total;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name] = this.props.dataArr[i].values[j];\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            date = new Date(this.props.dataArr[i].values[j].ValidTime);\r\n                            var dayOfWeek = date.getDay();\r\n                            var sunday = new Date(this.props.dataArr[i].values[j].ValidTime - dayOfWeek * 86400000);\r\n                            var saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                    let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                    for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                        if(k === 0){\r\n                                            firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        }\r\n                                        else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                            break;\r\n                                        }\r\n                                        time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        time = time / 3600000;\r\n                                        if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                            light = light + time;\r\n                                        }\r\n                                        else{\r\n                                            deep = deep + time;\r\n                                        }\r\n                                        total = total + time;\r\n                                    }\r\n                                    if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                        avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"before\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    else{\r\n                                        avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"after\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    continue;\r\n                                }\r\n                                if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"before\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"before\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                else{\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"after\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"after\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][this.props.dataArr[i].name] == null){\r\n                                table[dateStr][this.props.dataArr[i].name] = {};\r\n                                table[dateStr][this.props.dataArr[i].name][\"counter\"] = 0;\r\n                                table[dateStr][this.props.dataArr[i].name][\"sum\"] = 0;\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else{\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                if(!table[dateStr][\"total\"]){\r\n                                    table[dateStr][\"light\"] = {};\r\n                                    table[dateStr][\"deep\"] = {};\r\n                                    table[dateStr][\"total\"] = {};\r\n                                    table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                }\r\n                                table[dateStr][\"light\"][\"sum\"] += light;\r\n                                table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                                table[dateStr][\"total\"][\"sum\"] += total;\r\n                                table[dateStr][\"light\"][\"counter\"]++;\r\n                                table[dateStr][\"deep\"][\"counter\"]++;\r\n                                table[dateStr][\"total\"][\"counter\"]++;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                            table[dateStr][this.props.dataArr[i].name][\"counter\"]++;\r\n                        }\r\n                        else if(this.props.monthly){\r\n                            date = new Date(this.props.dataArr[i].values[j].ValidTime);;\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                    let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                    for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                        if(k === 0){\r\n                                            firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        }\r\n                                        else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                            break;\r\n                                        }\r\n                                        time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        time = time / 3600000;\r\n                                        if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                            light = light + time;\r\n                                        }\r\n                                        else{\r\n                                            deep = deep + time;\r\n                                        }\r\n                                        total = total + time;\r\n                                    }\r\n                                    if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                        avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"before\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    else{\r\n                                        avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"after\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    continue;\r\n                                }\r\n                                if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"before\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"before\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                else{\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"after\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"after\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime );\r\n                            }\r\n                            if(table[dateStr][this.props.dataArr[i].name] == null){\r\n                                table[dateStr][this.props.dataArr[i].name] = {};\r\n                                table[dateStr][this.props.dataArr[i].name][\"counter\"] = 0;\r\n                                table[dateStr][this.props.dataArr[i].name][\"sum\"] = 0;\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else{\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                if(!table[dateStr][\"total\"]){\r\n                                    table[dateStr][\"light\"] = {};\r\n                                    table[dateStr][\"deep\"] = {};\r\n                                    table[dateStr][\"total\"] = {};\r\n                                    table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                }\r\n                                table[dateStr][\"light\"][\"sum\"] += light;\r\n                                table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                                table[dateStr][\"total\"][\"sum\"] += total;\r\n                                table[dateStr][\"light\"][\"counter\"]++;\r\n                                table[dateStr][\"deep\"][\"counter\"]++;\r\n                                table[dateStr][\"total\"][\"counter\"]++;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                            table[dateStr][this.props.dataArr[i].name][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                var arr = [];\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        for (let [key1,] of Object.entries(table[key])) {\r\n                            table[key][key1][\"Data\"] = table[key][key1][\"sum\"] / table[key][key1][\"counter\"];\r\n                        }\r\n                    }\r\n                }\r\n                var exportCSV = [];\r\n                var last = Math.min();\r\n                for(i = 0; i < dates.length; i++){\r\n                    date = new Date(dates[i]);\r\n                    dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                    if(this.props.showDaily){\r\n                        var d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        table[dateStr][\"num\"] = num;\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { this.props.steps ? (table[dateStr][\"צעדים\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.distance ? (table[dateStr][\"מרחק\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.calories ? (table[dateStr][\"קלוריות\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.weather ? (table[dateStr][\"מזג האוויר\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"light\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"light\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"light\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"deep\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"deep\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"deep\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"total\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"total\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"total\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                            </tr>\r\n                        )\r\n                    }\r\n                    else if(this.props.weekly || this.props.monthly){\r\n                        var o = new Date(this.props.date);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{0}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    { this.props.steps ? (avgO[\"before\"][\"צעדים\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"צעדים\"][\"sum\"] / avgO[\"before\"][\"צעדים\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.distance ? (avgO[\"before\"][\"מרחק\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"מרחק\"][\"sum\"] / avgO[\"before\"][\"מרחק\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.calories ? (avgO[\"before\"][\"קלוריות\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"קלוריות\"][\"sum\"] / avgO[\"before\"][\"קלוריות\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.weather ? (avgO[\"before\"][\"weather\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"weather\"][\"sum\"] / avgO[\"before\"][\"weather\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"light\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"light\"][\"sum\"] / avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"deep\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"deep\"][\"sum\"] / avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"total\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"total\"][\"sum\"] / avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{0}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    { this.props.steps ? (avgO[\"after\"][\"צעדים\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"צעדים\"][\"sum\"] / avgO[\"after\"][\"צעדים\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.distance ? (avgO[\"after\"][\"מרחק\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"מרחק\"][\"sum\"] / avgO[\"after\"][\"מרחק\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.calories ? (avgO[\"after\"][\"קלוריות\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"קלוריות\"][\"sum\"] / avgO[\"after\"][\"קלוריות\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.weather ? (avgO[\"after\"][\"weather\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"weather\"][\"sum\"] / avgO[\"after\"][\"weather\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"light\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"light\"][\"sum\"] / avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"deep\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"deep\"][\"sum\"] / avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"total\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"total\"][\"sum\"] / avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                </tr>\r\n                            )\r\n                        }\r\n                        else{\r\n                            table[dateStr][\"num\"] = num;\r\n                            arr.push(\r\n                                <tr key={dateStr}>\r\n                                     {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                    {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                    { this.props.steps ? (table[dateStr][\"צעדים\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.distance ? (table[dateStr][\"מרחק\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.calories ? (table[dateStr][\"קלוריות\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.weather ? (table[dateStr][\"מזג האוויר\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"light\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"light\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"light\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"deep\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"deep\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"deep\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"total\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"total\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"total\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    }\r\n                    var line = {};\r\n                    line[\"תאריך\"] = dateStr;\r\n                    var z = 0;\r\n                    if(dateStr === dateOStr){\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = z;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = z;\r\n                            }\r\n                        }\r\n                        if(this.props.steps && avgO[\"before\"][\"צעדים\"][\"counter\"]){\r\n                            line[\"צעדים\"] = (avgO[\"before\"][\"צעדים\"][\"sum\"] / avgO[\"before\"][\"צעדים\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.distance && avgO[\"before\"][\"מרחק\"][\"counter\"]){\r\n                            line[\"מרחק\"] = (avgO[\"before\"][\"מרחק\"][\"sum\"] / avgO[\"before\"][\"מרחק\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.calories && avgO[\"before\"][\"קלוריות\"][\"counter\"]){\r\n                            line[\"קלוריות\"] = (avgO[\"before\"][\"קלוריות\"][\"sum\"] / avgO[\"before\"][\"קלוריות\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.weather && avgO[\"before\"][\"weather\"][\"counter\"]){\r\n                            line[\"מזג האוויר\"] = (avgO[\"before\"][\"weather\"][\"sum\"] / avgO[\"before\"][\"weather\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"light\"][\"counter\"]){\r\n                            line[\"שעות שינה קלה\"] = (avgO[\"before\"][\"light\"][\"sum\"] / avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"deep\"][\"counter\"]){\r\n                            line[\"שעות שינה עמוקה\"] = (avgO[\"before\"][\"deep\"][\"sum\"] / avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"total\"][\"counter\"]){\r\n                            line[\"סך כל שעות השינה\"] = (avgO[\"before\"][\"total\"][\"sum\"] / avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        exportCSV.push(line);\r\n                        line = {};\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = z;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = z;\r\n                            }\r\n                        }\r\n                        line[\"תאריך\"] = dateStr;\r\n                        if(this.props.steps && avgO[\"after\"][\"צעדים\"][\"counter\"]){\r\n                            line[\"צעדים\"] = (avgO[\"after\"][\"צעדים\"][\"sum\"] / avgO[\"after\"][\"צעדים\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.distance && avgO[\"after\"][\"מרחק\"][\"counter\"]){\r\n                            line[\"מרחק\"] = (avgO[\"after\"][\"מרחק\"][\"sum\"] / avgO[\"after\"][\"מרחק\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.calories && avgO[\"after\"][\"קלוריות\"][\"counter\"]){\r\n                            line[\"קלוריות\"] = (avgO[\"after\"][\"קלוריות\"][\"sum\"] / avgO[\"after\"][\"קלוריות\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.weather && avgO[\"after\"][\"weather\"][\"counter\"]){\r\n                            line[\"מזג האוויר\"] = (avgO[\"after\"][\"weather\"][\"sum\"] / avgO[\"after\"][\"weather\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"light\"][\"counter\"]){\r\n                            line[\"שעות שינה קלה\"] = (avgO[\"after\"][\"light\"][\"sum\"] / avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"deep\"][\"counter\"]){\r\n                            line[\"שעות שינה עמוקה\"] = (avgO[\"after\"][\"deep\"][\"sum\"] / avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"total\"][\"counter\"]){\r\n                            line[\"סך כל שעות השינה\"] = (avgO[\"after\"][\"total\"][\"sum\"] / avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        exportCSV.push(line);\r\n                        continue;\r\n                    }\r\n                    if(this.props.date){\r\n                        if(this.props.showDaily){\r\n                            line[\"מספר יום\"] = table[dateStr][\"num\"]\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            line[\"מספר שבוע\"] = table[dateStr][\"num\"]\r\n                        }\r\n                        else{\r\n                            line[\"מספר חודש\"] = table[dateStr][\"num\"]\r\n                        }\r\n                    }\r\n                    if(this.props.steps && table[dateStr][\"צעדים\"]){\r\n                        line[\"צעדים\"] = table[dateStr][\"צעדים\"][\"Data\"];\r\n                    }\r\n                    if(this.props.distance && table[dateStr][\"מרחק\"]){\r\n                        line[\"מרחק\"] = table[dateStr][\"מרחק\"][\"Data\"];\r\n                    }\r\n                    if(this.props.calories && table[dateStr][\"קלוריות\"]){\r\n                        line[\"קלוריות\"] = table[dateStr][\"קלוריות\"][\"Data\"];\r\n                    }\r\n                    if(this.props.weather && table[dateStr][\"מזג האוויר\"]){\r\n                        line[\"מזג האוויר\"] = table[dateStr][\"מזג האוויר\"][\"Data\"];\r\n                    }\r\n                    if(this.props.sleep && table[dateStr][\"light\"] && this.props.showDaily){\r\n                        line[\"שעות שינה קלה\"] = table[dateStr][\"light\"];\r\n                        line[\"שעות שינה עמוקה\"] = table[dateStr][\"deep\"];\r\n                        line[\"סך כל שעות השינה\"] = table[dateStr][\"total\"];\r\n                        \r\n                    }\r\n                    if(this.props.sleep && table[dateStr][\"light\"] && !this.props.showDaily){\r\n                        line[\"שעות שינה קלה\"] = table[dateStr][\"light\"][\"Data\"];\r\n                        line[\"שעות שינה עמוקה\"] = table[dateStr][\"deep\"][\"Data\"];\r\n                        line[\"סך כל שעות השינה\"] = table[dateStr][\"total\"][\"Data\"];\r\n                    }\r\n                    exportCSV.push(line);\r\n                }\r\n                \r\n            } \r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ? <div className=\"center\">\r\n                    {noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                        <table style={{width: \"100%\"}} id=\"mdd\" className=\"tabels\" align=\"center\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    { this.props.dataArr.length > 0 && this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                    { this.props.dataArr.length > 0 && this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                    { this.props.dataArr.length > 0 && this.props.monthly ? <th>מספר חודש</th> : null}     \r\n                                    { this.props.dataArr.length > 0 ? <th>תאריך</th> : null}\r\n                                    { this.props.steps ? <th>צעדים</th> : null }\r\n                                    { this.props.distance ? <th>מרחק</th> : null }\r\n                                    { this.props.calories ? <th>קלוריות</th> : null }\r\n                                    { this.props.weather ? <th>מזג האוויר</th> : null }\r\n                                    { this.props.sleep ? <th>שעות שינה קלה</th> : null }\r\n                                    { this.props.sleep ? <th>שעות שינה עמוקה</th> : null }\r\n                                    { this.props.sleep ? <th>סך כל שעות השינה</th> : null }\r\n                                </tr>\r\n                                {arr}\r\n                            </tbody>\r\n                        </table>}\r\n                    { this.props.dataArr.length > 0 && !noData ? <ExportCSV csvData={exportCSV} fileName={this.props.name + \" מדדים\"}/> : null}\r\n                    \r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Table","import React, {Component} from \"react\"\r\nimport {ExportCSV} from \"./ExportCSV\"\r\nimport \"./Table.css\"\r\n\r\n\r\nclass TableAns extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n    \r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data.length > 0){\r\n                var i, week = false;\r\n                var arr = []\r\n                var dates = []\r\n                let data = this.props.data;\r\n                var table = {};\r\n                var exportCSV = [];\r\n                var dateO = new Date(this.props.date), dateOStr;\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0, text: \"\"};\r\n                avgO[\"after\"] = {sum: 0, counter: 0, text: \"\"};\r\n                if(this.props.weekly){\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var last = Math.min();\r\n                for(i = 0; i < data.length; i++){\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime);\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                        var text = \"\";\r\n                        for(var j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                text = text + \"לא נטלתי, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                text = text + \"בסיסית, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                text = text + \"מתקדמת, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                text = text + \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                        text = text.slice(0, -2);\r\n                        var d = new Date(data[i].ValidTime);\r\n                        d.setHours(0,0,0,0);\r\n                        dateO.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        arr.push(\r\n                            <tr key={i}>\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{data[i][\"Answers\"][0][\"AnswerID\"][0]}</td> : <td className=\"after\">{data[i][\"Answers\"][0][\"AnswerID\"][0]}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{text}</td> : <td className=\"after\">{text}</td>}\r\n                            </tr>\r\n                        )\r\n                        var line = {};\r\n                        line[\"מספר יום\"] = num;\r\n                        line[\"תאריך\"] = dateStr;\r\n                        line[\"רמת כאב\"] = data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        line[\"תרופה\"] = text;\r\n                        exportCSV.push(line);\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime)\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"before\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"before\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"before\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"before\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"before\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"after\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"after\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"after\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"after\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"after\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            if(!week){\r\n                                dates.push(data[i].ValidTime);\r\n                                week = true;\r\n                            }\r\n                            continue;\r\n                        }\r\n                        if(table[dateStr] == null){\r\n                            table[dateStr] = {};\r\n                            table[dateStr][\"sum\"] = 0;\r\n                            table[dateStr][\"counter\"] = 0;\r\n                            table[dateStr][\"text\"] = \"\";\r\n                            dates.push(data[i].ValidTime);\r\n                        }\r\n                        table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        table[dateStr][\"counter\"]++;\r\n                        for(j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(!table[dateStr][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                table[dateStr][\"text\"] += \"לא נטלתי, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                table[dateStr][\"text\"] += \"בסיסית, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                table[dateStr][\"text\"] += \"מתקדמת, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                table[dateStr][\"text\"] += \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                        \r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime)\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"before\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"before\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"before\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"before\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"before\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"after\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"after\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"after\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"after\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"after\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            if(!week){\r\n                                dates.push(data[i].ValidTime);\r\n                                week = true;\r\n                            }\r\n                            continue;\r\n                        }\r\n                        if(table[dateStr] == null){\r\n                            table[dateStr] = {};\r\n                            table[dateStr][\"sum\"] = 0;\r\n                            table[dateStr][\"counter\"] = 0;\r\n                            table[dateStr][\"text\"] = \"\";\r\n                            dates.push(data[i].ValidTime);\r\n                        }\r\n                        table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        table[dateStr][\"counter\"]++;\r\n                        for(j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(!table[dateStr][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                table[dateStr][\"text\"] += \"לא נטלתי, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                table[dateStr][\"text\"] += \"בסיסית, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                table[dateStr][\"text\"] += \"מתקדמת, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                table[dateStr][\"text\"] += \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        table[key][\"Data\"] = table[key][\"sum\"] / table[key][\"counter\"];\r\n                    }\r\n                    var o = new Date(this.props.date);\r\n                    for(i = 0; i < dates.length; i++){\r\n                        date = new Date(dates[i]);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            avgO[\"before\"][\"text\"] =  avgO[\"before\"][\"text\"].slice(0, -2);\r\n                            avgO[\"after\"][\"text\"] =  avgO[\"after\"][\"text\"].slice(0, -2);\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{num}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    {avgO[\"before\"][\"counter\"] ? <td className=\"before\">{(avgO[\"before\"][\"sum\"] / avgO[\"before\"][\"counter\"]).toFixed(2)}</td> : <td className=\"before\">-</td>}\r\n                                    {avgO[\"before\"][\"counter\"] ? <td className=\"before\">{avgO[\"before\"][\"text\"]}</td> : <td className=\"before\">-</td>}\r\n                                </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{num}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    {avgO[\"after\"][\"counter\"] ? <td className=\"after\">{(avgO[\"after\"][\"sum\"] / avgO[\"after\"][\"counter\"]).toFixed(2)}</td> : <td className=\"after\">-</td>}\r\n                                    {avgO[\"after\"][\"counter\"] ? <td className=\"after\">{avgO[\"after\"][\"text\"]}</td> : <td className=\"after\">-</td>}\r\n                                </tr>\r\n                            )\r\n                            var z = 0;\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            line[\"רמת כאב\"] = (avgO[\"before\"][\"sum\"] / avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[\"תרופות שהיו בשימוש\"] = avgO[\"before\"][\"text\"];\r\n                            exportCSV.push(line);\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            line[\"רמת כאב\"] = (avgO[\"after\"][\"sum\"] / avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            line[\"תרופות שהיו בשימוש\"] = avgO[\"after\"][\"text\"];\r\n                            exportCSV.push(line);\r\n                            continue;\r\n                        }\r\n                        table[dateStr][\"text\"] =  table[dateStr][\"text\"].slice(0, -2);\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                 {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{table[dateStr][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{table[dateStr][\"Data\"].toFixed(2)}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{table[dateStr][\"text\"]}</td> : <td className=\"after\">{table[dateStr][\"text\"]}</td>}\r\n                            </tr>\r\n                        )\r\n                        line = {};\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = num;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = num;\r\n                            }\r\n                        }\r\n                        line[\"תאריך\"] = dateStr;\r\n                        line[\"רמת כאב\"] = table[dateStr];\r\n                        if(this.props.showDaily){\r\n                            line[\"תרופה\"] = text;\r\n                        }\r\n                        else{\r\n                            line[\"תרופות שהיו בשימוש\"] =  table[dateStr][\"text\"];\r\n                        }\r\n                        exportCSV.push(line);\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ? <div>{noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                    <div className=\"center\">\r\n                    <table style={{width: \"100%\"}} id=\"daily\" className=\"tabels\">\r\n                        <tbody>\r\n                            <tr>\r\n                                { this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                { this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                { this.props.monthly ? <th>מספר חודש</th> : null}\r\n                                <th>תאריך</th>\r\n                                <th>רמת כאב</th>\r\n                                {this.props.showDaily ? <th>תרופה</th> : <th>תרופות שהיו בשימוש</th>}\r\n                            </tr>\r\n                            {arr}\r\n                        </tbody>\r\n                    </table>\r\n                    <ExportCSV csvData={exportCSV} fileName={this.props.name + \" שאלון יומי\"}/>\r\n                    </div>}  </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TableAns","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport {LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n    }\r\n\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data && this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"Timestamp\")\r\n                var points = {};\r\n                var min  = 0, week = false;\r\n                var oDay = new Date(this.props.date);\r\n                var line = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"]= {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    if(data[i].Data < 0){\r\n                        min = -1;\r\n                    }\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime)\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short', year:\"numeric\"}).replace(/ /g, '-')\r\n                        if(date <= oDay){\r\n                            points[dateStr] = data[i].Data.toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = data[i].Data.toFixed(2)\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i].Data;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i].Data; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{ \r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i].Data;\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i].Data;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i].Data; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i].Data;\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            points[dateStr] = (avgO[\"before\"][\"sum\"] /  avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[dateStr] = (avgO[\"after\"][\"sum\"] /  avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            points[dateStr] = (table[dateStr][\"sum\"] /  table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = (table[dateStr][\"sum\"] /  table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"לפני הניתוח\", \"data\": points},\r\n                    {\"name\": \"אחרי הניתוח\", \"data\": line}\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} min={min} />}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React, {Component} from \"react\"\r\nimport {ExportCSV} from \"./ExportCSV\"\r\n//import \"./TablePer.css\"\r\n\r\n\r\nclass TablePer extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n    \r\n\r\n\r\n    render() {\r\n        require(\"./Table.css\");\r\n        if(this.props.ready){\r\n            var noData = true;\r\n            for(var  i = 0; i < this.props.data.length; i++){\r\n                if( this.props.data[i].data.length > 0 ){\r\n                    noData = false;\r\n                }\r\n            }\r\n            if(!noData){\r\n                var table = {};\r\n                var data = this.props.data;\r\n                var j, week = false;\r\n                var dates = [];\r\n                var dic = {};\r\n                var dateO, dateOStr;\r\n                var avgO = {};\r\n                avgO[\"before\"] = {\"1\": {}, \"2\": {}, \"3\": {}, \"4\": {}, \"5\": {}, \"6\": 0};\r\n                avgO[\"after\"] = {\"1\": {}, \"2\": {}, \"3\": {}, \"4\": {}, \"5\": {}, \"6\": 0};\r\n                avgO[\"before\"][\"1\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"2\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"3\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"4\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"5\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"6\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"1\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"2\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"3\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"4\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"5\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"6\"] = {sum: 0, counter: 0};\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                for(i = 0; i < data.length; i++){\r\n                    for(j = 0; j < data[i].data.length; j++){\r\n                        if(this.props.showDaily){\r\n                            var date = new Date(data[i].data[j].ValidTime)\r\n                            var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID] = data[i].data[j].Score;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                            date = new Date(data[i].data[j].ValidTime)\r\n                            var dayOfWeek = date.getDay();\r\n                            var sunday = new Date(data[i].data[j].ValidTime - dayOfWeek * 86400000);\r\n                            var saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(data[i].data[j].ValidTime < this.props.date){\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                else{\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(data[i].data[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][data[i].data[j].QuestionnaireID] == null){\r\n                                table[dateStr][data[i].data[j].QuestionnaireID] = {};\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] = 0;\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"] = 0;\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                        else if(this.props.monthly){\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                            date = new Date(data[i].data[j].ValidTime)\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(data[i].data[j].ValidTime < this.props.date){\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                else{\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(data[i].data[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][data[i].data[j].QuestionnaireID] == null){\r\n                                table[dateStr][data[i].data[j].QuestionnaireID] = {};\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] = 0;\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"] = 0;\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                var arr = [], exportCSV = [];\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        for (let [key1,] of Object.entries(table[key])) {\r\n                            table[key][key1][\"Data\"] = table[key][key1][\"sum\"] / table[key][key1][\"counter\"];\r\n                        }\r\n                    }\r\n                }\r\n                var last = Math.min();\r\n                for(i = 0; i < dates.length; i++){\r\n                    var line = {};\r\n                    date = new Date(dates[i]);\r\n                    dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                    if(this.props.showDaily){\r\n                        var d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        table[dateStr][\"num\"] = num;\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { dic[\"1\"] ? ((table[dateStr][\"1\"] >= 0 || table[dateStr][\"1\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"1\"]}</td> : <td className=\"after\">{ table[dateStr][\"1\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"2\"] ? ((table[dateStr][\"2\"] >= 0 || table[dateStr][\"2\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"2\"]}</td> : <td className=\"after\">{ table[dateStr][\"2\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"3\"] ? ((table[dateStr][\"3\"] >= 0 || table[dateStr][\"3\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"3\"]}</td> : <td className=\"after\">{ table[dateStr][\"3\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"4\"] ? ((table[dateStr][\"4\"] >= 0 || table[dateStr][\"4\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"4\"]}</td> : <td className=\"after\">{ table[dateStr][\"4\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"5\"] ? ((table[dateStr][\"5\"] >= 0 || table[dateStr][\"5\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"5\"]}</td> : <td className=\"after\">{ table[dateStr][\"5\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"6\"] ? ((table[dateStr][\"6\"] >= 0 || table[dateStr][\"6\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"6\"]}</td> : <td className=\"after\">{ table[dateStr][\"6\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                            </tr>\r\n                        );\r\n                    }\r\n                    else if(this.props.weekly || this.props.monthly){\r\n                        var o = new Date(this.props.date);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{0}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    { dic[\"1\"] ? (avgO[\"before\"][\"1\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"1\"][\"sum\"] / avgO[\"before\"][\"1\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"2\"] ? (avgO[\"before\"][\"2\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"2\"][\"sum\"] / avgO[\"before\"][\"2\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"3\"] ? (avgO[\"before\"][\"3\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"3\"][\"sum\"] / avgO[\"before\"][\"3\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"4\"] ? (avgO[\"before\"][\"4\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"4\"][\"sum\"] / avgO[\"before\"][\"4\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"5\"] ? (avgO[\"before\"][\"5\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"5\"][\"sum\"] / avgO[\"before\"][\"5\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"6\"] ? (avgO[\"before\"][\"6\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"6\"][\"sum\"] / avgO[\"before\"][\"6\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{0}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    { dic[\"1\"] ? (avgO[\"after\"][\"1\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"1\"][\"sum\"] / avgO[\"after\"][\"1\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"2\"] ? (avgO[\"after\"][\"2\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"2\"][\"sum\"] / avgO[\"after\"][\"2\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"3\"] ? (avgO[\"after\"][\"3\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"3\"][\"sum\"] / avgO[\"after\"][\"3\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"4\"] ? (avgO[\"after\"][\"4\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"4\"][\"sum\"] / avgO[\"after\"][\"4\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"5\"] ? (avgO[\"after\"][\"5\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"5\"][\"sum\"] / avgO[\"after\"][\"5\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"6\"] ? (avgO[\"after\"][\"6\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"6\"][\"sum\"] / avgO[\"after\"][\"6\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    </tr>\r\n                            )\r\n                            line = {};\r\n                            var z  = 0;\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            if(dic[\"1\"] && avgO[\"before\"][\"1\"][\"counter\"]){\r\n                                line[\"Oswestry Disability Index\"] = (avgO[\"before\"][\"1\"][\"sum\"] / avgO[\"before\"][\"1\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"2\"] && avgO[\"before\"][\"2\"][\"counter\"]){\r\n                                line[\"Neck Disability Index\"] = (avgO[\"before\"][\"2\"][\"sum\"] / avgO[\"before\"][\"2\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"3\"] && avgO[\"before\"][\"3\"][\"counter\"]){\r\n                                line[\"Lower Extremity Functional Scale\"] = (avgO[\"before\"][\"3\"][\"sum\"] / avgO[\"before\"][\"3\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"41\"] && avgO[\"before\"][\"4\"][\"counter\"]){\r\n                                line[\"Oswestry low back pain\"] = (avgO[\"before\"][\"4\"][\"sum\"] / avgO[\"before\"][\"4\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"5\"] && avgO[\"before\"][\"5\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"before\"][\"5\"][\"sum\"] / avgO[\"before\"][\"5\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"6\"] && avgO[\"before\"][\"6\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"before\"][\"6\"][\"sum\"] / avgO[\"before\"][\"6\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            exportCSV.push(line);\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            if(dic[\"1\"] && avgO[\"after\"][\"1\"][\"counter\"]){\r\n                                line[\"Oswestry Disability Index\"] = (avgO[\"after\"][\"1\"][\"sum\"] / avgO[\"after\"][\"1\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"2\"] && avgO[\"after\"][\"2\"][\"counter\"]){\r\n                                line[\"Neck Disability Index\"] = (avgO[\"after\"][\"2\"][\"sum\"] / avgO[\"after\"][\"2\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"3\"] && avgO[\"after\"][\"3\"][\"counter\"]){\r\n                                line[\"Lower Extremity Functional Scale\"] = (avgO[\"after\"][\"3\"][\"sum\"] / avgO[\"after\"][\"3\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"41\"] && avgO[\"after\"][\"4\"][\"counter\"]){\r\n                                line[\"Oswestry low back pain\"] = (avgO[\"after\"][\"4\"][\"sum\"] / avgO[\"after\"][\"4\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"5\"] && avgO[\"after\"][\"5\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"after\"][\"5\"][\"sum\"] / avgO[\"after\"][\"5\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"6\"] && avgO[\"after\"][\"6\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"after\"][\"6\"][\"sum\"] / avgO[\"after\"][\"6\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            exportCSV.push(line);\r\n                            continue;\r\n                        }\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { dic[\"1\"] ? ((table[dateStr][\"1\"] && (table[dateStr][\"1\"][\"Data\"] >= 0 || table[dateStr][\"1\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"1\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"1\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"2\"] ? ((table[dateStr][\"2\"] && (table[dateStr][\"2\"][\"Data\"] >= 0 || table[dateStr][\"2\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"2\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"2\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"3\"] ? ((table[dateStr][\"3\"] && (table[dateStr][\"3\"][\"Data\"] >= 0 || table[dateStr][\"3\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"3\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"3\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"4\"] ? ((table[dateStr][\"4\"] && (table[dateStr][\"4\"][\"Data\"] >= 0 || table[dateStr][\"4\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"4\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"4\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"5\"] ? ((table[dateStr][\"5\"] && (table[dateStr][\"5\"][\"Data\"] >= 0 || table[dateStr][\"5\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"5\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"5\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"6\"] ? ((table[dateStr][\"6\"] && (table[dateStr][\"6\"][\"Data\"] >= 0 || table[dateStr][\"6\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"6\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"6\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                            </tr>\r\n                        )\r\n                    }\r\n                    line = {};\r\n                    if(this.props.date){\r\n                        if(this.props.showDaily){\r\n                            line[\"מספר יום\"] = num;\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            line[\"מספר שבוע\"] = num;\r\n                        }\r\n                        else{\r\n                            line[\"מספר חודש\"] = num;\r\n                        }\r\n                    }\r\n                    line[\"תאריך\"] = dateStr;\r\n                    if(this.props.showDaily){\r\n                        if(dic[\"1\"] && (table[dateStr][\"1\"] > 0 || table[dateStr][\"1\"] <= 0)){\r\n                            line[\"Oswestry Disability Index\"] = table[dateStr][\"1\"];\r\n                        }\r\n                        if(dic[\"2\"] && (table[dateStr][\"2\"] > 0 || table[dateStr][\"2\"] <= 0)){\r\n                            line[\"Neck Disability Index\"] = table[dateStr][\"2\"];\r\n                        }\r\n                        if(dic[\"3\"] && (table[dateStr][\"3\"] > 0 || table[dateStr][\"3\"] <= 0)){\r\n                            line[\"Lower Extremity Functional Scale\"] = table[dateStr][\"3\"];\r\n                        }\r\n                        if(dic[\"4\"] && (table[dateStr][\"4\"] > 0 || table[dateStr][\"4\"] <= 0)){\r\n                            line[\"Oswestry low back pain\"] = table[dateStr][\"4\"];\r\n                        }\r\n                        if(dic[\"5\"] && (table[dateStr][\"5\"] > 0 || table[dateStr][\"5\"] <= 0)){\r\n                            line[\"EQ-5D\"] = table[dateStr][\"5\"];\r\n                        }\r\n                        if(dic[\"6\"] && (table[dateStr][\"6\"] > 0 || table[dateStr][\"6\"] <= 0)){\r\n                            line[\"EQ-5D scale\"] = table[dateStr][\"6\"];\r\n                        }\r\n                    }\r\n                    else{\r\n                        if(dic[\"1\"] && table[dateStr][\"1\"] && table[dateStr][\"1\"][\"counter\"]){\r\n                            line[\"Oswestry Disability Index\"] = table[dateStr][\"1\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"2\"] && table[dateStr][\"2\"] && table[dateStr][\"2\"][\"counter\"]){\r\n                            line[\"Neck Disability Index\"] = table[dateStr][\"2\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"3\"] && table[dateStr][\"3\"] && table[dateStr][\"3\"][\"counter\"]){\r\n                            line[\"Lower Extremity Functional Scale\"] = table[dateStr][\"3\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"4\"] && table[dateStr][\"4\"] && table[dateStr][\"4\"][\"counter\"]){\r\n                            line[\"Oswestry low back pain\"] = table[dateStr][\"4\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"5\"] && table[dateStr][\"5\"] && table[dateStr][\"5\"][\"counter\"]){\r\n                            line[\"EQ-5D\"] = table[dateStr][\"5\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"6\"] && table[dateStr][\"6\"] && table[dateStr][\"6\"][\"counter\"]){\r\n                            line[\"EQ-5D scale\"] = table[dateStr][\"6\"][\"Data\"].toFixed(2);\r\n                        }\r\n                    }\r\n                    exportCSV.push(line);\r\n\r\n                }\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ?  <div>{noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                    <div>\r\n                        <table style={{width: \"100%\"}} id=\"per\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    { this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                    { this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                    { this.props.monthly ? <th>מספר חודש</th> : null}  \r\n                                    { this.props.data.length > 0 ? <th>תאריך</th> : null}\r\n                                    { dic[\"1\"] ? <th>Oswestry Disability Index</th> : null }\r\n                                    { dic[\"2\"] ? <th>Neck Disability Index</th> : null }\r\n                                    { dic[\"3\"] ? <th>Lower Extremity Functional Scale</th> : null }\r\n                                    { dic[\"4\"] ? <th>Oswestry low back pain</th> : null }\r\n                                    { dic[\"5\"] ? <th>EQ-5D</th> : null }\r\n                                    { dic[\"6\"] ? <th>EQ-5D scale</th> : null }\r\n                                </tr>\r\n                                {arr}\r\n                            </tbody>\r\n                        </table>\r\n                        <ExportCSV csvData={exportCSV} fileName={this.props.name + \" שאלונים תקופתיים\"}/>\r\n                    </div>}</div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TablePer","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport {LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass SleepGraph extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n\r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data && this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"ValidTime\")\r\n                var pointsD = {}, pointsL = {}, pointsT = {};\r\n                var oDay = new Date(this.props.date);\r\n                var lineD = {}, lineL = {}, lineT = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var dateO, dateOStr, week = false;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {light: {}, deep: {}, total: {}};\r\n                avgO[\"after\"] = {light: {}, deep: {}, total: {}};\r\n                avgO[\"before\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"light\"] = {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    var date = new Date(data[i].ValidTime);\r\n                    var deep = 0, light = 0, total = 0, firstTime;\r\n                    for(var k = 0; k < data[i][\"Data\"].length; k++){\r\n                        if(k === 0){\r\n                            firstTime = data[i][\"Data\"][k][\"StartTime\"];\r\n                        }\r\n                        else if( firstTime === data[i][\"Data\"][k][\"StartTime\"]){\r\n                            break;\r\n                        }\r\n                        var time = data[i][\"Data\"][k][\"EndTime\"] - data[i][\"Data\"][k][\"StartTime\"];\r\n                        time = time / 3600000;\r\n                        if(data[i][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                            light = light + time;\r\n                        }\r\n                        else{\r\n                            deep = deep + time;\r\n                        }\r\n                        total = total + time;\r\n                    }\r\n                    if(this.props.showDaily){\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                        if(date <= oDay){\r\n                            pointsD[dateStr] = deep.toFixed(2);\r\n                            pointsL[dateStr] = light.toFixed(2);\r\n                            pointsT[dateStr] = total.toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            lineD[dateStr] = deep.toFixed(2);\r\n                            lineL[dateStr] = light.toFixed(2);\r\n                            lineT[dateStr] = total.toFixed(2);\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"before\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"before\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"after\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"after\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"light\"] = {};\r\n                                table[dateStr][\"deep\"] = {};\r\n                                table[dateStr][\"total\"] = {};\r\n                                table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"light\"][\"counter\"]++;\r\n                            table[dateStr][\"light\"][\"sum\"] += light;\r\n                            table[dateStr][\"deep\"][\"counter\"]++;\r\n                            table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                            table[dateStr][\"total\"][\"counter\"]++;\r\n                            table[dateStr][\"total\"][\"sum\"] += total;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"before\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"before\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"after\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"after\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"light\"] = {};\r\n                                table[dateStr][\"deep\"] = {};\r\n                                table[dateStr][\"total\"] = {};\r\n                                table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"light\"][\"counter\"]++;\r\n                            table[dateStr][\"light\"][\"sum\"] += light;\r\n                            table[dateStr][\"deep\"][\"counter\"]++;\r\n                            table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                            table[dateStr][\"total\"][\"counter\"]++;\r\n                            table[dateStr][\"total\"][\"sum\"] += total;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            pointsD[dateStr] = (avgO[\"before\"][\"deep\"][\"sum\"] /  avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                            pointsL[dateStr] = (avgO[\"before\"][\"light\"][\"sum\"] /  avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2);\r\n                            pointsT[dateStr] = (avgO[\"before\"][\"total\"][\"sum\"] /  avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2);\r\n                            lineD[dateStr] = (avgO[\"after\"][\"deep\"][\"sum\"] /  avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                            lineL[dateStr] = (avgO[\"after\"][\"light\"][\"sum\"] /  avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2);\r\n                            lineT[dateStr] = (avgO[\"after\"][\"total\"][\"sum\"] /  avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            pointsD[dateStr] = (table[dateStr][\"deep\"][\"sum\"] /  table[dateStr][\"deep\"][\"counter\"]).toFixed(2);\r\n                            pointsL[dateStr] = (table[dateStr][\"light\"][\"sum\"] /  table[dateStr][\"light\"][\"counter\"]).toFixed(2);\r\n                            pointsT[dateStr] = (table[dateStr][\"total\"][\"sum\"] /  table[dateStr][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            lineD[dateStr] = (table[dateStr][\"deep\"][\"sum\"] /  table[dateStr][\"deep\"][\"counter\"]).toFixed(2);\r\n                            lineL[dateStr] = (table[dateStr][\"light\"][\"sum\"] /  table[dateStr][\"light\"][\"counter\"]).toFixed(2);\r\n                            lineT[dateStr] =(table[dateStr][\"total\"][\"sum\"] /  table[dateStr][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"שעות שינה קלה לפני הניתוח\", \"data\": pointsL},\r\n                    {\"name\": \"שעות שינה עמוקה לפני הניתוח\", \"data\": pointsD},\r\n                    {\"name\": \"סך כל שעות השינה לפני הניתוח\", \"data\": pointsT},\r\n                    {\"name\": \"שעות שינה קלה אחרי הניתוח\", \"data\": lineL},\r\n                    {\"name\": \"שעות שינה עמוקה אחרי הניתוח\", \"data\": lineD},\r\n                    {\"name\": \"סך כל שעות השינה אחרי הניתוח\", \"data\": lineT},\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} colors={[\"#010C6B\", \"#7C0000\", \"#0D4E00\", \"#77CCEE\" ,\"#F78989\", \"#B5FFA2\"]} min={0}/>}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SleepGraph","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport { LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass GraphAns extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n\r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"ValidTime\")\r\n                var points = {};\r\n                var oDay = new Date(this.props.date);\r\n                var line = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var week = false;\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"]= {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime)\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short', year:\"numeric\"}).replace(/ /g, '-')\r\n                        if(date <= oDay){\r\n                            points[dateStr] = data[i][\"Answers\"][0][\"AnswerID\"][0].toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = data[i][\"Answers\"][0][\"AnswerID\"][0].toFixed(2);\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0]; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0]; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            points[dateStr] = (avgO[\"before\"][\"sum\"] /  avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[dateStr] = (avgO[\"after\"][\"sum\"] /  avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            points[dateStr] = (table[dateStr][\"sum\"] / table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = (table[dateStr][\"sum\"] / table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"לפני הניתוח\", \"data\": points},\r\n                    {\"name\": \"אחרי הניתוח\", \"data\": line}\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        \r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} min={0} />}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GraphAns","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\n\r\nclass PatientData extends Component {\r\n    constructor(props) {\r\n        super()\r\n        var q2 = false, q3 = false, q4 = false, q5 = false;\r\n        for(var i = 0; i < props.user[\"Questionnaires\"].length; i++){\r\n            if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 1){\r\n                q2= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 2){\r\n                q3= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 3){\r\n                q4= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 5){\r\n                q5= true;\r\n            }\r\n        }\r\n        this.state = {\r\n           user: props.user,\r\n           showPopup: false,\r\n           showPopupQ: false,\r\n           new_date: \"\",\r\n           Questionnaires: [],\r\n           quest1: false,\r\n           quest2: q2,\r\n           quest3: q3,\r\n           quest4: q4,\r\n           quest5: q5,\r\n           quest6: false\r\n        }\r\n        this.changeDate = this.changeDate.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.togglePopupQ = this.togglePopupQ.bind(this);\r\n        this.handleSubmitQ = this.handleSubmitQ.bind(this)\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        let date = (new Date(this.state.new_date)).getTime();\r\n        let id = this.props.user[\"UserID\"];\r\n        axios.post('https://icc.ise.bgu.ac.il/njsw03auth/usersAll/changeDateOfSurgery', \r\n        {\r\n            UserID: id,\r\n            DateOfSurgery: date\r\n        },            \r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': sessionStorage.getItem(\"token\")\r\n            }\r\n        }).then(res => {\r\n            window.alert(\"התאריך שונה בהצלחה\")\r\n            this.togglePopup();\r\n        });\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmitQ(e){\r\n        e.preventDefault();\r\n        var Questionnaires =[];\r\n        if(this.state.quest2){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 1,\r\n                \"QuestionnaireText\": \"תפקוד גב תחתון\"\r\n            })\r\n        }\r\n        if(this.state.quest3){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 2,\r\n                \"QuestionnaireText\": \"תפקוד צוואר\"\r\n            })\r\n        }\r\n        if(this.state.quest4){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 3,\r\n                \"QuestionnaireText\": \"תפקוד גף תחתון\"\r\n            })\r\n        }\r\n        if(this.state.quest5){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 5,\r\n                \"QuestionnaireText\": \"איכות חיים\"\r\n            });\r\n        }           \r\n        let id = this.props.user[\"UserID\"];\r\n        axios.post('https://icc.ise.bgu.ac.il/njsw03auth/usersAll/changeUserQuestionnaire', \r\n        {\r\n            UserID: id,\r\n            Questionnaires: Questionnaires\r\n        },            \r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': sessionStorage.getItem(\"token\")\r\n            }\r\n        }).then(res => {\r\n           window.alert(\"השאלונים שונו בהצלחה\");\r\n           this.togglePopupQ();\r\n        });\r\n    }\r\n\r\n    changeQuest(){\r\n        this.togglePopupQ();\r\n    }\r\n\r\n    changeDate(){\r\n        this.togglePopup();\r\n    }\r\n\r\n    togglePopupQ() {\r\n        this.setState({\r\n          showPopupQ: !this.state.showPopupQ\r\n        });\r\n\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n          showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    render() {\r\n        require(\"./PatientData.css\");\r\n        let name = this.props.user[\"First_Name\"] + \" \" + this.props.user[\"Last_Name\"];\r\n        let bmi = parseFloat(this.props.user[\"BMI\"]).toFixed(1);\r\n        var sDate = \"\";\r\n        if(this.props.user[\"DateOfSurgery\"]){\r\n            sDate = (new Date(this.props.user[\"DateOfSurgery\"])).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n        }\r\n        else{\r\n            sDate = \"לא נקבע יום ניתוח\";\r\n        }\r\n        let gender = this.props.user[\"Gender\"];\r\n        let height = this.props.user[\"Height\"];\r\n        let pNumber = this.props.user[\"Phone_Number\"];\r\n        let smoke = this.props.user[\"Smoke\"];\r\n        let sType = this.props.user[\"SurgeryType\"];\r\n        let weight = this.props.user[\"Weight\"];\r\n        var today = new Date();\r\n        var birthday = new Date(this.props.user[\"BirthDate\"]);\r\n        var age = Math.floor((today.getTime() - birthday.getTime())/ 31536000000)\r\n        var Questionnaires = \"\";\r\n        var first = true;\r\n        for(var i = 0; i < this.props.user[\"Questionnaires\"].length; i++){\r\n            if(this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 0 && this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 6){\r\n                if(!first){\r\n                    Questionnaires +=\", \"\r\n                }\r\n                else{\r\n                    first = false;\r\n                }\r\n                if(!Questionnaires.includes(this.props.user[\"Questionnaires\"][i][\"QuestionnaireText\"])){\r\n                    Questionnaires += this.props.user[\"Questionnaires\"][i][\"QuestionnaireText\"];\r\n                }\r\n            }\r\n        }\r\n        if(Questionnaires.charAt(Questionnaires.length - 1) === \" \"){\r\n            Questionnaires = Questionnaires.substring(0, Questionnaires.length - 2);\r\n        }\r\n        var className = \"g\";\r\n        if(this.props.table){\r\n            className = \"t\"\r\n        }\r\n\t\treturn (\r\n            <div id=\"data\" className={className}>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">שם:</label>\r\n                    <label className=\"labelData\">{name}</label>\r\n                    <label className=\"label\">מספר טלפון:</label>\r\n                    <label className=\"labelData\">{pNumber}</label>\r\n                </div>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">מין:</label>\r\n                    <label className=\"labelData\">{gender}</label>\r\n                    <label className=\"label\">משקל:</label>\r\n                    <label className=\"labelData\">{weight}</label>\r\n                    <label className=\"label\">גובה:</label>\r\n                    <label className=\"labelData\">{height}</label>\r\n                    <label className=\"label\">גיל:</label>\r\n                    <label className=\"labelData\">{age}</label>\r\n                    <label className=\"label\">BMI:</label>\r\n                    <label className=\"labelData\">{bmi}</label>\r\n                    <label className=\"labelData\">{smoke}</label>\r\n                    \r\n                </div>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">סוג ניתוח:</label>\r\n                    <label className=\"labelData\">{sType}</label>\r\n                    <label className=\"label\">תאריך ניתוח:</label>\r\n                    <label className=\"labelData\" >{sDate}</label>  \r\n                    <button className=\"changeDate\" onClick={() => this.changeDate()}> \r\n                        שינוי התאריך        \r\n                    </button>\r\n                </div>\r\n                <div className=\"line\">\r\n                    <label className=\"label\" >שאלונים:</label> \r\n                    <label className=\"labelData\" >{Questionnaires} </label> \r\n                    <button className=\"changeDate\" onClick={() => this.changeQuest()}> \r\n                        שינוי השאלונים  \r\n                    </button>\r\n                </div>\r\n                {this.state.showPopup ? \r\n                    <Popup\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                        handleChange={this.handleChange.bind(this)}\r\n                        handleSubmit={this.handleSubmit.bind(this)}\r\n                    /> : null\r\n                }\r\n                {this.state.showPopupQ ? \r\n                    <PopupQ\r\n                        closePopup={this.togglePopupQ.bind(this)}\r\n                        handleChange={this.handleChange.bind(this)}\r\n                        handleSubmit={this.handleSubmitQ.bind(this)}\r\n                        quest1={this.state.quest1}\r\n                        quest2={this.state.quest2}\r\n                        quest3={this.state.quest3}\r\n                        quest4={this.state.quest4}\r\n                        quest5={this.state.quest5}\r\n                        quest6={this.state.quest6}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PatientData\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className='popup'>\r\n            <div className='popup_innerCD' >\r\n                <div className=\"line_x\">\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                </div>\r\n                <h4 id=\"h4C\">שינוי תאריך הניתוח</h4>\r\n                <form  onSubmit={this.props.handleSubmit} id=\"newDate_form\">\r\n                    <div className=\"line_newData\">\r\n                        <label id=\"newD\"> הכנס תאריך ניתוח חדש:</label>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                    <input id=\"new_date\" type=\"date\" name=\"new_date\"  onChange={this.props.handleChange}/>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                        <button id=\"sumbitC\" type=\"sumbit\" >שינוי</button>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                        <label id=\"noDate\">*לביטול תאריך ניתוח יש ללחוץ על שינוי בלי קביעת תאריך חדש</label>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  class PopupQ extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className='popup'>\r\n            <div className='popup_innerCQ' >\r\n                <div className=\"line_x\">\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                </div>\r\n                <h4 id=\"h4C\">שינוי שאלונים</h4>\r\n                <form id=\"formQ\" onSubmit={this.props.handleSubmit}>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest2\"\r\n                            checked={this.props.quest2}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד גב תחתון  \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest3\"\r\n                            checked={this.props.quest3}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד צוואר  \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest4\"\r\n                            checked={this.props.quest4}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד גף תחתון    \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest5\"\r\n                            checked={this.props.quest5}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            איכות חיים  \r\n                        </label>\r\n                    </div>\r\n                    <button  id=\"changeQ\" type=\"sumbit\" >שינוי</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }","import React, {Component} from \"react\"\r\nimport \"./DisplayButton.css\"\r\nimport Table from \"./Table\"\r\nimport TableAns from \"./TableAns\"\r\nimport Graph from \"./Graph\"\r\nimport TablePer from \"./TablePer\"\r\nimport SleepGraph from \"./SleepGraph\"\r\nimport GraphAns from \"./GraphAns\"\r\nimport PatientData from \"./PatientData\"\r\n\r\n\r\nclass DisplayButton extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.state = {\r\n            graph: true,\r\n            table : false\r\n        }\r\n\r\n        this.styleLabel = {\r\n            fontSize: \"calc(10px)\",\r\n            color: \"black\",\r\n            margin: \"2vmin 2vmin 2vmin 2vmin\"\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n        this.clean = function(arr){\r\n            var tempDic = {};\r\n            var temp = [];\r\n            for(var i = 0; i < arr.length; i++){\r\n                var date = new Date(arr[i].ValidTime)\r\n                var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                if(tempDic[dateStr] === undefined){\r\n                    tempDic[dateStr] = arr[i];\r\n                    temp.push(arr[i])\r\n                }\r\n            }\r\n            return temp;\r\n        }\r\n        \r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({graph: false, table:false, [name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        var arrSteps, arrDis, arrCal, arrWeat, arrSleep;\r\n        var  arr1 = [], arr2 = [], arr3 = [], arr4 = [], arr5 = [], arr6 = [];\r\n        for(var i = 0; i < this.props.dataArr.length; i++){\r\n            if(this.props.dataArr[i].name === \"צעדים\"){\r\n                arrSteps = this.props.dataArr[i].values\r\n            }\r\n            else if(this.props.dataArr[i].name === \"מרחק\"){\r\n                arrDis = this.props.dataArr[i].values\r\n            }\r\n            else if(this.props.dataArr[i].name === \"קלוריות\"){\r\n                arrCal = this.props.dataArr[i].values;\r\n            }\r\n            else if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                if(this.props.dataArr[i].values.length && this.props.dataArr[i].values[0].Data && this.props.dataArr[i].values[0].Data.High){\r\n                    for(var j = 0; j < this.props.dataArr[i].values.length; j++){\r\n                        this.props.dataArr[i].values[j].Data = this.props.dataArr[i].values[j].Data.High;\r\n                    }\r\n                }\r\n                arrWeat = this.props.dataArr[i].values;\r\n            }\r\n            else if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                arrSleep = this.props.dataArr[i].values;\r\n            }\r\n\r\n        }\r\n        \r\n        for(i = 0; i < this.props.periodicAnswers.length; i++){\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 1){\r\n                arr1 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr1.length; j++){\r\n                    arr1[j][\"Data\"] = arr1[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 2){\r\n                arr2 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr2.length; j++){\r\n                    arr2[j][\"Data\"] = arr2[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 3){\r\n                arr3 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr3.length; j++){\r\n                    arr3[j][\"Data\"] = arr3[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 4){\r\n                arr4 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr4.length; j++){\r\n                    arr4[j][\"Data\"] = arr4[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 5){\r\n                arr5 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr5.length; j++){\r\n                    arr5[j][\"Data\"] = arr5[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 6){\r\n                arr6 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr6.length; j++){\r\n                    arr6[j][\"Data\"] = arr6[j][\"Score\"];\r\n                }\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                <div className=\"display\">\r\n                    { (this.props.dataArr.length > 0 || this.props.dailyA.length > 0) ? <div><div className=\"checkButton\" id=\"cbRight\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            value=\"1\"\r\n                            name=\"graph\"\r\n                            checked={this.state.graph}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <span>\r\n                            <div id=\"text\">\r\n                                הצג מידע גרפי\r\n                            </div>\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"checkButton\" id=\"cbLeft\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            value=\"1\"\r\n                            name=\"table\"\r\n                            checked={this.state.table}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <span>\r\n                            <div id=\"text\">\r\n                                הצג מידע טבלאי  \r\n                            </div>\r\n                        </span>\r\n                    </label>\r\n                </div> </div> : null }\r\n                </div>\r\n                <br />\r\n                <br />\r\n                { ((this.state.graph || this.state.table) && this.props.ready) ? <PatientData user={this.props.user} table={this.state.table}/> : null}\r\n                { (this.state.table && this.props.dataArr.length > 0 && this.props.ready) ? <h3>מדדים</h3> : null }\r\n                { this.state.table ? <div className=\"ex1\"><Table dataArr={this.props.dataArr}\r\n                    steps={this.props.steps}\r\n                    distance={this.props.distance}\r\n                    calories={this.props.calories}\r\n                    weather={this.props.weather}\r\n                    sleep={this.props.sleep}\r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    name={this.props.name}\r\n                    ready={this.props.ready}\r\n                /> </div>: null }\r\n                <br />\r\n                { (this.state.table && this.props.dailyQ && this.props.ready) ? <h3>שאלון יומי</h3> : null }\r\n                { (this.state.table && this.props.dailyQ) ? <TableAns data={this.props.dailyA} \r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    name={this.props.name}\r\n                    ready={this.props.ready}\r\n                    /> : null }\r\n                { (this.state.table && this.props.perQ && this.props.ready) ? <h3>שאלונים תקופתיים</h3> : null }\r\n                { (this.state.table && this.props.perQ) ? <TablePer data={this.props.periodicAnswers} \r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    ready={this.props.ready}\r\n                    name={this.props.name} />: null }\r\n                { (this.state.graph && this.props.steps) ? <Graph data={arrSteps} date={this.props.date} name=\"צעדים\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.distance) ? <Graph data={arrDis} date={this.props.date} name=\"מרחק\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.calories) ? <Graph data={arrCal} date={this.props.date} name=\"קלוריות\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.weather) ? <Graph data={arrWeat} date={this.props.date} name=\"מזג האוויר\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.sleep) ? <SleepGraph data={arrSleep} date={this.props.date} name=\"שעות שינה\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.dailyQ) ? <GraphAns data={this.props.dailyA} date={this.props.date} name=\"שאלון יומי\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr1.length > 0 && this.props.perQ) ? <Graph data={arr1} date={this.props.date} name=\"Oswestry Disability Index\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr2.length > 0 && this.props.perQ) ? <Graph data={arr2} date={this.props.date} name=\"Neck Disability Index\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr3.length > 0 && this.props.perQ) ? <Graph data={arr3} date={this.props.date} name=\"Lower Extremity Functional Scale\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr4.length > 0 && this.props.perQ) ? <Graph data={arr4} date={this.props.date} name=\"Oswestry low back pain\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr5.length > 0 && this.props.perQ) ? <Graph data={arr5} date={this.props.date} name=\"EQ-5D\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr6.length > 0 && this.props.perQ) ? <Graph data={arr6} date={this.props.date} name=\"EQ-5D scale\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayButton","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\nimport Card from 'react-bootstrap/Card'\r\nimport DisplayButton from './DisplayButton';\r\n\r\nclass Search extends Component {\r\n    constructor() {\r\n        super()\r\n        var date = new Date();\r\n        var x = date.toISOString().split(\"T\")[0];\r\n        var list = [], list1 = [];\r\n        axios.get(\r\n            \"https://icc.ise.bgu.ac.il/njsw03auth/usersAll/getFirsts\",\r\n            { \r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                } \r\n            }\r\n        ).then(function (response){\r\n            if(response.data.data){\r\n                var names = response.data.data.map(function(item, i){\r\n                    return item.trim();\r\n                })\r\n                names = names.sort();\r\n                var uniqueNames = Array.from(new Set(names));\r\n                for(var  i = 0; i < uniqueNames.length; i++){\r\n                    list.push(<option key={uniqueNames[i]}>{uniqueNames[i]}</option>);\r\n                }\r\n            }\r\n        });\r\n        axios.get(\r\n            \"https://icc.ise.bgu.ac.il/njsw03auth/usersAll/getLasts\",\r\n            { \r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                } \r\n            }\r\n        ).then(function (response){\r\n            if(response.data.data){\r\n                var names = response.data.data.map(function(item, i){\r\n                    return item.trim();\r\n                })\r\n                names = names.sort();\r\n                var uniqueNames = Array.from(new Set(names));\r\n                for(var  i = 0; i < uniqueNames.length; i++){\r\n                    list1.push(<option key={uniqueNames[i]}>{uniqueNames[i]}</option>);\r\n                }\r\n            }\r\n        });\r\n        this.state = {\r\n            pName: \"\",\r\n            fName: \"\",\r\n            end_date: x,\r\n            start_date: \"2020-01-01\",\r\n            steps: true,\r\n            distance : true,\r\n            weather: true,\r\n            calories: true,\r\n            sleeping_hours: true,\r\n            dataArr: [],\r\n            periodicAnswers: [],\r\n            showPopup: false,\r\n            textPopup: [],\r\n            dailyA: [],\r\n            numOfUsers: 0,\r\n            dailyQ: true,\r\n            perQ: true,\r\n            x: [],\r\n            date: 0,\r\n            showDaily: true,\r\n            weekly: false,\r\n            monthly: false,\r\n            user: {},\r\n            ready: false, \r\n            todayDate: x,\r\n            optionsPName: list,\r\n            optionsLName: list1,\r\n            className: \"normal\"\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.getRequest = this.getRequest.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.selectUser = this.selectUser.bind(this);\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n          showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n        if(name === \"showDaily\"){\r\n            this.setState({\r\n                showDaily: true,\r\n                weekly: false,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"weekly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: true,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"monthly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: false,\r\n                monthly: true\r\n            })\r\n        }\r\n    }\r\n\r\n    async getRequest(name, url){\r\n        let getUrl = 'https://icc.ise.bgu.ac.il/njsw03auth/doctors/' + url + '?FirstName=' + this.state.pName.trim() + '&LastName=' + this.state.fName.trim();\r\n        if(this.state.start_date !== \"\"){\r\n            var date = new Date(this.state.start_date)\r\n            let start_time = date.getTime();\r\n            getUrl += (\"&start_time=\" + start_time); \r\n        }\r\n        if(this.state.end_date !== \"\"){\r\n            date = new Date(this.state.end_date)\r\n            date = new Date(date.getTime() + 86400000);\r\n            let end_time = date.getTime();\r\n            getUrl += (\"&end_time=\" + end_time); \r\n        }\r\n            const response = await axios.get(\r\n                getUrl,\r\n                { \r\n                    headers: { \r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    } \r\n                }\r\n            );\r\n            if(response.data.message === \"Not Found\"){\r\n                return null;\r\n            }\r\n            return({\r\n                values: response.data.data,\r\n                name : name,\r\n                numOfUsers: response.data.data.length\r\n            });\r\n    }\r\n\r\n    async selectUser(key){\r\n        let arr = this.state.dataArr;\r\n        let d = this.state.dailyA;\r\n        var da = [];\r\n        var user;\r\n        var sDate;\r\n        for(var i = 0; i < this.state.numOfUsers; i++){\r\n            if(d[i] && d[i].UserID[\"BirthDate\"] === key){\r\n                da = d[i].docs;\r\n                sDate = d[i].UserID[\"DateOfSurgery\"];\r\n                user = d[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < this.state.questionnaire.values.length; i++){\r\n            if(this.state.questionnaire.values[i].UserID[\"BirthDate\"] === key){\r\n                this.state.periodicAnswers.push(this.state.questionnaire.values[i][\"docs\"]);\r\n                sDate = this.state.questionnaire.values[i].UserID[\"DateOfSurgery\"];\r\n                user = this.state.questionnaire.values[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < arr.length; i++){\r\n            let values = [];\r\n            if(arr[i]){\r\n                for(var j = 0; j < arr[i].values.length; j++){\r\n                    if(arr[i].values[j].UserID[\"BirthDate\"] === key){\r\n                        values = arr[i].values[j].docs;\r\n                        sDate = arr[i].values[j].UserID[\"DateOfSurgery\"];\r\n                        user = arr[i].values[j].UserID;\r\n                    }\r\n                }\r\n                arr[i].values = values;\r\n            }\r\n        }\r\n        this.setState({\r\n            dataArr: arr,\r\n            dailyA: da,\r\n            date: sDate,\r\n            user: user,\r\n            ready: true,\r\n            className: \"normal\"\r\n        })\r\n        if(this.state.showPopup){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if(event){\r\n            event.preventDefault()\r\n        }\r\n        this.setState({\r\n            ready: false,\r\n            className: \"waiting\",\r\n            periodicAnswers: []\r\n        })\r\n        var numOfUsers = 0;\r\n        var arr = []\r\n        var  i = 0;\r\n        let response = await this.getRequest(\"צעדים\", \"metrics/getSteps\");\r\n        if(!response){\r\n            window.alert(\"לא קיים מטופל\");\r\n            return;\r\n        }\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מרחק\", \"metrics/getDistance\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"קלוריות\", \"metrics/getCalories\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מזג האוויר\", \"metrics/getWeather\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"שעות שינה\", \"metrics/getSleep\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"תשובות יומיות\", \"answers/getDailyAnswers\")\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        let responseQ = await this.getRequest(\"שאלון תקופתי\", \"answers/getPeriodicAnswers\")\r\n        var num = 0; \r\n        var id = {};\r\n        for(i = 0; i < responseQ.values.length; i++){\r\n            if(!id[responseQ.values[i].UserID]){\r\n                id[responseQ.values[i].UserID] = true;\r\n                num++;\r\n            }\r\n        }\r\n        if(num > numOfUsers){\r\n            numOfUsers = num;\r\n        }\r\n        this.setState({\r\n            dataArr : arr,\r\n            dailyA: response.values,\r\n            numOfUsers: numOfUsers,\r\n            questionnaire: responseQ\r\n        })\r\n        if(numOfUsers === 1){\r\n            let x = this.state.dailyA[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.periodicAnswers[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.dataArr[0][0].UserID[\"BirthDate\"];\r\n            this.selectUser(x)\r\n        }\r\n        if(numOfUsers > 1){\r\n            var cards = [];\r\n            for(i = 0; i < numOfUsers; i++){\r\n                let x = this.state.dailyA[i].UserID[\"BirthDate\"];\r\n                if(!x)\r\n                    x = this.state.periodicAnswers[i].UserID[\"BirthDate\"];\r\n                if(!x)\r\n                    x = this.state.dataArr[0][i].UserID[\"BirthDate\"];\r\n                let dateC = new Date(x);\r\n                this.state.x.push(dateC.toLocaleDateString('en-GB', {day: 'numeric', month: 'numeric', year:\"numeric\"}))\r\n                cards.push(\r\n                    <Card className=\"card\" key={this.state.x[i]}  onClick={() => this.selectUser(x)}>\r\n                        <Card.Body className=\"cardBody\">שם פרטי: {this.state.pName.trim()} </Card.Body>\r\n                        <Card.Body className=\"cardBody\">שם משפחה: {this.state.fName.trim()} </Card.Body>\r\n                        <Card.Body className=\"cardBody\">תאריך לידה: {this.state.x[i]}</Card.Body>\r\n                    </Card>\r\n                );\r\n            }\r\n            this.setState({\r\n                text: cards\r\n            })\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        require(\"./search.css\");\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            <div>\r\n                <datalist id=\"first-list\">\r\n                    {this.state.optionsPName}\r\n                </datalist>\r\n                <datalist id=\"last-list\">\r\n                    {this.state.optionsLName}\r\n                </datalist>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"search\">\r\n                        <label className=\"lSearch\" >\r\n                                חפש מטופל:\r\n                        </label>\r\n                        <input className=\"iSearch\"\r\n                            id=\"pname\"\r\n                            type=\"text\" \r\n                            name=\"pName\"\r\n                            value={this.state.pName} \r\n                            placeholder=\"שם פרטי\" \r\n                            onChange={this.handleChange} \r\n                            list=\"first-list\"\r\n                            required\r\n                        />\r\n                        <input className=\"iSearch\"\r\n                            id=\"fname\"\r\n                            type=\"text\" \r\n                            name=\"fName\"\r\n                            value={this.state.fName} \r\n                            placeholder=\"שם משפחה\" \r\n                            onChange={this.handleChange} \r\n                            list=\"last-list\"\r\n                            required\r\n                        />\r\n                        <button className=\"bSearch\"> \r\n                            חפש\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"dates\">\r\n                            <label className=\"cSearch\">\r\n                                בחר תאריכים: מ\r\n                            </label>\r\n                            <input className=\"dSearch\"\r\n                                type=\"date\"\r\n                                name=\"start_date\"\r\n                                value={this.state.start_date} \r\n                                onChange={this.handleChange}\r\n                                max={this.state.end_date}\r\n                            />\r\n                            <label className=\"aSearch\">\r\n                                עד\r\n                            </label>\r\n                            <input className=\"dSearch\"\r\n                                type=\"date\"\r\n                                name=\"end_date\"\r\n                                value={this.state.end_date} \r\n                                onChange={this.handleChange}\r\n                                max={today}\r\n                            />\r\n                    </div>\r\n                    <div className=\"mdd\">\r\n                        <label className=\"mLabel\">\r\n                                בחר מדדים:\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"steps\"\r\n                            checked={this.state.steps}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            צעדים\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"distance\"\r\n                            checked={this.state.distance}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            מרחק\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"weather\"\r\n                            checked={this.state.weather}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            מזג האוויר\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"calories\"\r\n                            checked={this.state.calories}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            קלוריות\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"sleeping_hours\"\r\n                            checked={this.state.sleeping_hours}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שעות שינה\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"dailyQ\"\r\n                            checked={this.state.dailyQ}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שאלון יומי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"perQ\"\r\n                            checked={this.state.perQ}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שאלונים תקופתיים\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"mddShow\">\r\n                        <label className=\"mLabel\">\r\n                                בחר אופן הצגה:\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"showDaily\"\r\n                            checked={this.state.showDaily}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            יומי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"weekly\"\r\n                            checked={this.state.weekly}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שבועי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                            type=\"checkbox\" \r\n                            name=\"monthly\"\r\n                            checked={this.state.monthly}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                             חודשי\r\n                        </label>\r\n                    </div>\r\n                </form>\r\n                <br />\r\n                <DisplayButton \r\n                    dataArr={this.state.dataArr} \r\n                    steps={this.state.steps}\r\n                    distance={this.state.distance}\r\n                    calories={this.state.calories}\r\n                    weather={this.state.weather}\r\n                    sleep={this.state.sleeping_hours}\r\n                    dailyA={this.state.dailyA}\r\n                    periodicAnswers={this.state.periodicAnswers}\r\n                    dailyQ={this.state.dailyQ}\r\n                    perQ={this.state.perQ}\r\n                    date={this.state.date}\r\n                    showDaily={this.state.showDaily}\r\n                    weekly={this.state.weekly}\r\n                    monthly={this.state.monthly}\r\n                    user={this.state.user}\r\n                    name={this.state.pName.trim() + \" \" + this.state.fName.trim()}\r\n                    ready={this.state.ready}\r\n                />\r\n                {this.state.showPopup ? \r\n                    <Popup\r\n                        text={this.state.text}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Search\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className='popup'>\r\n            <div className='popup_inner' >\r\n                <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                <h4>:אנא בחר מבין הרשומות הבאות</h4>\r\n                {this.props.text}\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport \"./Logo\";\r\nimport \"./Search\";\r\n\r\nimport Logo from './Logo';\r\nimport Search from './Search';\r\n\r\n\r\nclass App extends Component{\r\n    constructor(props){\r\n      super(props);\r\n      this.state = {\r\n        showPopup: false,\r\n        pass: \"\",\r\n        pass2: \"\",\r\n        diff: false,\r\n        redirect: false\r\n    };\r\n      this.logout = this.logout.bind(this);\r\n      this.change = this.change.bind(this);\r\n      this.togglePopup = this.togglePopup.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n      this.handleSubmit = this.handleSubmit.bind(this)\r\n  }\r\n\r\n  togglePopup() {\r\n    this.setState({\r\n      showPopup: !this.state.showPopup\r\n    });\r\n  }\r\n\r\n  async handleSubmit(event){\r\n    event.preventDefault();\r\n    if(this.state.pass !== this.state.pass2){\r\n      this.setState({\r\n        diff: true\r\n      });\r\n    }\r\n    else{\r\n      let url = 'https://icc.ise.bgu.ac.il/njsw03auth/usersAll/askChangePassword';\r\n      var token;\r\n      const response = await axios.post(\r\n        url,\r\n        {},\r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': sessionStorage.getItem(\"token\")\r\n            } \r\n        }\r\n      );\r\n      token = response.data.data;\r\n      url = 'https://icc.ise.bgu.ac.il/njsw03users/passwordChangeCheck/changePassword';\r\n      const responsec = await axios.post(\r\n        url,\r\n        {\r\n          \"NewPassword\":this.state.pass\r\n        }, \r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': token\r\n            }\r\n        }\r\n      );\r\n      if(responsec.data.message){\r\n        window.alert(\"הסיסמא שונתה בהצלחה\");\r\n        this.togglePopup();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  handleChange(event) {\r\n    const {name, value, type, checked} = event.target\r\n    type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n  }\r\n\r\n  logout() {\r\n    sessionStorage.removeItem(\"token\");\r\n    sessionStorage.removeItem(\"type\");\r\n    sessionStorage.removeItem(\"name\");\r\n    sessionStorage.removeItem(\"doctor\");\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"type\");\r\n    localStorage.removeItem(\"name\");\r\n    localStorage.removeItem(\"doctor\");\r\n    this.setState({\r\n        redirect: true\r\n    })\r\n  }\r\n\r\n  change(){\r\n    this.togglePopup();\r\n  }\r\n\r\n  render(){\r\n    require(\"./App.css\");\r\n    return (\r\n      <div>\r\n        <div id=\"labels\">\r\n          <label id=\"logout\" onClick={() => this.logout()}>התנתק</label>\r\n          <label id=\"sep\" onClick={() => this.change()}> |</label>\r\n          <label id=\"change\" onClick={() => this.change()}>שנה סיסמא</label>\r\n          <label id=\"hello\">שלום ד\"ר {sessionStorage.getItem(\"name\")} </label>\r\n          \r\n        </div>\r\n        <div className=\"App\">\r\n          <header className=\"App-header\">\r\n            <Logo />\r\n            <Search />\r\n            <br />\r\n            {sessionStorage.getItem(\"doctor\") !== \"true\" ?  <Redirect from=\"/search\" to=\"/\" /> : null  }\r\n          </header>\r\n        </div>\r\n        {this.state.showPopup ? \r\n          <Popup\r\n              change={this.handleChange.bind(this)}\r\n              closePopup={this.togglePopup.bind(this)}\r\n              handleSubmit={this.handleSubmit.bind(this)}\r\n              diff={this.state.diff}\r\n          /> : null\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\nclass Popup extends React.Component {\r\n  \r\n  render() {\r\n    require(\"./App.css\");\r\n    return (\r\n      <div className='popup'>\r\n          <div className='popup_inner' >\r\n              <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n              <h3 id=\"h3\">החלפת סיסמא</h3>\r\n              <form onSubmit={this.props.handleSubmit}>\r\n                <div className=\"lineC\">\r\n                  <label>\r\n                      סיסמא חדשה:\r\n                  </label>\r\n                </div>\r\n                <div className=\"lineC\">\r\n                  <input type=\"password\" name=\"pass\" id=\"pass\" onChange={this.props.change} required/>\r\n                </div>\r\n                <div className=\"lineC\">\r\n                  <label>\r\n                      הקלד את הסיסמא מחדש:\r\n                  </label>\r\n                </div>\r\n                <div className=\"lineC\">\r\n                  <input type=\"password\" name=\"pass2\" id=\"pass2\" onChange={this.props.change} required/>\r\n                </div>\r\n                <div className=\"lineC\">\r\n                  {this.props.diff ? <label id=\"diffPass\">הסיסמאות שונות</label> : null}\r\n                </div>\r\n                <div className=\"lineC\">\r\n                  <input type=\"submit\" value=\"שלח\" />\r\n                </div>\r\n              </form>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    userName: \"\",\r\n    fName: \"\",\r\n    lName: \"\",\r\n    password: \"\",\r\n    bday: new Date(),\r\n    email: \"\",\r\n    questionsID: [],\r\n    questionsText: [],\r\n    questions :[],\r\n    answerUserQuestion: \"\",\r\n    selectedUserType: \"patient\",\r\n    quesionChosen: 0\r\n};\r\n\r\nclass AddUser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\",\r\n            fName: \"\",\r\n            lName: \"\",\r\n            password: \"\",\r\n            bday: \"new Date()\",\r\n            phone: \"\",\r\n            questionsID: [],\r\n            questionsText: [],\r\n            questions :[],\r\n            answerUserQuestion: \"\",\r\n            selectedUserType: \"patient\",\r\n            code: \"\",\r\n            quesionChosen: 0\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleReset = this.handleReset.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n    }\r\n    \r\n    onSelect(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        this.setState({\r\n            quesionChosen: selectedIndex\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let initialQuestions = [];\r\n        let initQuestionsID = [];\r\n        let initQuestionsText = [];\r\n        fetch('https://icc.ise.bgu.ac.il/njsw03users/getVerifications')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initialQuestions = results.data;\r\n\r\n            for(var i = 0; i < initialQuestions.length; i++) {\r\n                var obj = initialQuestions[i];\r\n\r\n                initQuestionsID.push(obj.QuestionID);\r\n                initQuestionsText.push(obj.QuestionText);\r\n            }\r\n\r\n            this.setState({\r\n                questionsID: initQuestionsID,\r\n                questionsText: initQuestionsText,\r\n                questions: initialQuestions\r\n            });\r\n        });\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        var bDay = new Date(this.state.bday);\r\n        var now = new Date();\r\n        axios.post('https://icc.ise.bgu.ac.il/njsw03users/doctorRegister', {\r\n            UserID: this.state.userName,\r\n            Password: this.state.password,\r\n            First_Name: this.state.fName,\r\n            Last_Name: this.state.lName,\r\n            Phone_Number: this.state.phone,\r\n            BirthDate: bDay.getTime(),\r\n            Code: this.state.code,\r\n            VerificationQuestion: this.state.quesionChosen,\r\n            VerificationAnswer: this.state.answerUserQuestion,\r\n            ValidTime: now.getTime()\r\n        }).then(res => {\r\n            if(res.data.message === \"Wrong Code\"){\r\n                window.alert(\"קוד האימות אינו נכון\");\r\n            }\r\n            else if(res.data.message === \"Taken Email\"){\r\n                window.alert(\"כתובת הדואל כבר רשומה במערכת\");\r\n            }\r\n            else{\r\n                window.alert(\"ההרשמה בוצעה בהצלחה נא לבצע התחברות\");\r\n                window.location.reload(false);\r\n            }\r\n        })\r\n    }\r\n\r\n    handleReset(event) {\r\n        this.setState (initialState);\r\n        let initialQuestions = [];\r\n        let initQuestionsID = [];\r\n        let initQuestionsText = [];\r\n        fetch('https://icc.ise.bgu.ac.il/njsw03users/getVerifications')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initialQuestions = results.data;\r\n            console.log(initialQuestions);\r\n\r\n            for(var i = 0; i < initialQuestions.length; i++) {\r\n                var obj = initialQuestions[i];\r\n\r\n                initQuestionsID.push(obj.QuestionID);\r\n                initQuestionsText.push(obj.QuestionText);\r\n            }\r\n\r\n            this.setState({\r\n                questionsID: initQuestionsID,\r\n                questionsText: initQuestionsText,\r\n                questions: initialQuestions\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        require(\"./AddUser.css\");\r\n        let quesions = this.state.questionsText;\r\n        let optionItems = quesions.map((question) =>\r\n            <option key={question} >{question}</option>\r\n        );\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            \r\n            <div>\r\n                <form onSubmit={this.handleSubmit} onReset={this.handleReset} id=\"new_user_form\">\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">כתובת דוא\"ל</label>\r\n                        <input className=\"inputs_in_add_user\" name=\"userName\" type=\"text\" value={this.state.userName} onChange={e => this.handleChange(e)} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">שם פרטי</label>\r\n                        <input className=\"inputs_in_add_user\" name=\"fName\" type=\"text\" value={this.state.fName} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">שם משפחה </label>\r\n                        <input className=\"inputs_in_add_user\" name=\"lName\" type=\"text\" value={this.state.lName} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">סיסמה </label>\r\n                        <input className=\"inputs_in_add_user\" name=\"password\" type=\"password\" value={this.state.password} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">מספר טלפון</label>\r\n                        <input className=\"inputs_in_add_user\" name=\"phone\" type=\"tel\" id=\"phone\" pattern=\"[0-9]{10}\" value={this.state.phone} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">תאריך לידה</label>\r\n                        <input className=\"inputs_in_add_user\" name=\"bday\" type=\"date\" max={today} value={this.state.bday} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">קוד אימות </label>\r\n                        <input className=\"inputs_in_add_user\" name=\"code\" type=\"text\" value={this.state.code} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">שאלת אימות </label>\r\n                        <select className=\"select_in_add_user\" onChange= {this.onSelect}>\r\n                            {optionItems}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">תשובה </label>\r\n                        <input className=\"inputs_in_add_user\" name=\"answerUserQuestion\" type=\"text\" value={this.state.answerUserQuestion} onChange={this.handleChange} required/>\r\n                    </div>\r\n                    <div className=\"divs_in_add\">\r\n                        <input type=\"submit\" value=\"הירשם\" className=\"submit_and_reset_buttons\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddUser;","import React, {Component} from 'react';\r\n\r\nimport './Login.css';\r\nimport axios from 'axios';\r\nimport Adduser from'./AddUser';\r\n\r\nclass Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            ID: '',\r\n            password: '',\r\n            wrong: false,\r\n            showPopup: false,\r\n            name: \"\",\r\n            doctor: false,\r\n            showID: false,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n            id: \"\",\r\n            question: \"\",\r\n            answer: \"\",\r\n            date: \"\",\r\n            wrongA: false,\r\n            diff: false,\r\n            token: \"\",\r\n            pass: \"\",\r\n            pass2: \"\",\r\n            remember: false,\r\n            register: false\r\n        };\r\n        if(localStorage.getItem(\"doctor\")){\r\n            sessionStorage.setItem(\"token\", localStorage.getItem(\"token\"));\r\n            sessionStorage.setItem(\"name\", localStorage.getItem(\"name\"));\r\n            sessionStorage.setItem(\"type\", localStorage.getItem(\"type\"));\r\n            sessionStorage.setItem(\"doctor\", localStorage.getItem(\"doctor\"));\r\n        }\r\n        this.change = this.change.bind(this);\r\n        this.sumbit = this.sumbit.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.forget = this.forget.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handle = this.handle.bind(this);\r\n        this.changePass = this.changePass.bind(this);\r\n        this.register = this.register.bind(this);\r\n    }\r\n\r\n    change(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n          showPopup: !this.state.showPopup,\r\n          wrongA: false,\r\n          diff: false\r\n        });\r\n    }\r\n\r\n    forget(e){\r\n        e.preventDefault();\r\n        this.setState({\r\n            showID: true,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n            register: false\r\n        })\r\n        this.togglePopup();\r\n    }\r\n\r\n    async handleSubmit(e){\r\n        e.preventDefault();\r\n        let url = 'https://icc.ise.bgu.ac.il/njsw03users/forgotPassword';\r\n        const response = await axios.post(\r\n            url,\r\n            {\r\n                UserID: this.state.id\r\n            }\r\n        );\r\n        if(response.data.data === null){\r\n            this.setState({\r\n                wrongA: true\r\n            })\r\n        }\r\n        else{\r\n            var qID = response.data.data;\r\n            const response1 = await axios.get(\"https://icc.ise.bgu.ac.il/njsw03users/getVerificationQuestion?QuestionID=\" + qID);\r\n            this.setState({\r\n                showID: false,\r\n                showWrongUser: false,\r\n                showQ: true,\r\n                showChange: false,\r\n                register: false,\r\n                wrongA: false,\r\n                question: response1.data.data[\"QuestionText\"]\r\n            });\r\n        }\r\n    }\r\n\r\n    async handle(e){\r\n        e.preventDefault();\r\n        var date = new Date(this.state.date);\r\n        var dateLong = date.getTime();\r\n        let url = 'https://icc.ise.bgu.ac.il/njsw03users/checkVerification';\r\n        const response = await axios.post(\r\n            url,\r\n            {\r\n                UserID: this.state.id,\r\n                VerificationAnswer: this.state.answer,\r\n\t            BirthDate: dateLong\r\n            }\r\n        );\r\n        var token = response.data.data;\r\n        if(!token){\r\n            this.setState({\r\n                wrongA: true\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                showID: false,\r\n                showWrongUser: false,\r\n                showQ: false,\r\n                showChange: true,\r\n                register: false,\r\n                token: token\r\n            })\r\n        }\r\n    }\r\n\r\n    async changePass(event){\r\n        event.preventDefault();\r\n        if(this.state.pass !== this.state.pass2){\r\n          this.setState({\r\n            diff: true\r\n          });\r\n        }\r\n        else{\r\n          var token = this.state.token;\r\n          var url = 'https://icc.ise.bgu.ac.il/njsw03users/passwordChangeCheck/changePassword';\r\n          const response = await axios.post(\r\n            url,\r\n            {\r\n              \"NewPassword\":this.state.pass\r\n            }, \r\n            { \r\n                headers: { \r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': token\r\n                }\r\n            }\r\n          );\r\n          if(response.data.message){\r\n            window.alert(\"הסיסמא שונתה בהצלחה\");\r\n            this.togglePopup();\r\n          }\r\n        }\r\n    \r\n      }\r\n\r\n    register(e){\r\n        this.setState({\r\n            register: true,\r\n            showID: false,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n        })\r\n        this.togglePopup();\r\n    }\r\n\r\n    sumbit(e){\r\n        e.preventDefault();\r\n        axios.post('https://icc.ise.bgu.ac.il/njsw03users/login', {\r\n            UserID: this.state.ID,\r\n            Password: this.state.password\r\n        }).then(res => {\r\n            if(res.data.data == null){\r\n                this.setState({wrong: true})\r\n            }\r\n            else if(res.data.data.type[0] === \"patient\"){\r\n                this.setState({name: res.data.data.name,\r\n                    ID: \"\",\r\n                    password: \"\",\r\n                    wrong: false,\r\n                    showID: false,\r\n                    showWrongUser: true,\r\n                    showQ: false,\r\n                    showChange: false,\r\n                    register: false\r\n                });\r\n                this.togglePopup();\r\n            }\r\n            else{\r\n                sessionStorage.setItem(\"token\", res.data.data.token);\r\n                sessionStorage.setItem(\"name\", res.data.data.name);\r\n                sessionStorage.setItem(\"type\", res.data.data.type);\r\n                this.setState({\r\n                    doctor: sessionStorage.getItem(\"type\").includes(\"doctor\")\r\n                })\r\n                sessionStorage.setItem(\"doctor\", this.state.doctor);\r\n                window.location.reload(false);\r\n                if(this.state.remember){\r\n                    localStorage.setItem(\"token\", res.data.data.token);\r\n                    localStorage.setItem(\"name\", res.data.data.name);\r\n                    localStorage.setItem(\"type\", res.data.data.type);\r\n                    localStorage.setItem(\"doctor\", this.state.doctor);\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n    }\r\n\r\n    render(){\r\n        require(\"./Login.css\");\r\n        return(\r\n            <div>\r\n                <form onSubmit={e => this.sumbit(e)}>\r\n                    <label>כתובת דוא\"ל:</label>\r\n                    <input type=\"text\" className=\"inputs\" name=\"ID\" onChange={e => this.change(e)} value={this.state.ID} required/>\r\n                    <label>סיסמה:</label>\r\n                    <input type=\"password\"  className=\"inputs\" name=\"password\"  onChange={e => this.change(e)} value={this.state.password} required/>\r\n                    {this.state.wrong ? <label id=\"wrong\">כתובת הדוא\"ל או הסיסמה לא נכונים</label> :  <label></label> }\r\n                    <input type=\"checkbox\" id=\"remember\" name=\"remember\" onChange={e => this.change(e)} value={this.state.remember}/>\r\n                    <label>זכור אותי</label>\r\n                    <button type=\"submit\">התחבר</button>\r\n                    <label id=\"forget\"  onClick={(e) => this.forget(e)}>שכחת סיסמה?</label>\r\n                    <label id=\"register\"  onClick={(e) => this.register(e)}>הירשם</label>\r\n                </form>\r\n                \r\n               {this.state.showPopup ? \r\n                    <Popup\r\n                        text={this.state.name}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                        showID={this.state.showID}\r\n                        showWrongUser={this.state.showWrongUser}\r\n                        showQ={this.state.showQ}\r\n                        showChange={this.state.showChange}\r\n                        handleSubmit={this.handleSubmit.bind(this)}\r\n                        change={this.change.bind(this)}\r\n                        handle={this.handle.bind(this)}\r\n                        question={this.state.question}\r\n                        wrongA={this.state.wrongA}\r\n                        diff={this.state.diff}\r\n                        changePass={this.changePass.bind(this)}\r\n                        register={this.state.register}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            <div>\r\n            { this.props.showWrongUser ?\r\n                <div className='popup'>\r\n                    <div className='popup_innerWrong' >\r\n                        <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                        <h3>,שלום {this.props.text}</h3>\r\n                        <p id=\"wrongType\"> אין לך את ההרשאות המתאימות על מנת להיכנס לאתר</p>\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            { this.props.showID ?\r\n                <div className='popup'>\r\n                    <div className='popup_innerEmail' >\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                    <form onSubmit={this.props.handleSubmit}>\r\n                        <label  id=\"lid\">\r\n                            אנא הזן כתובת דוא\"ל:\r\n                        </label>\r\n                        <input type=\"text\" className=\"inputs\" name=\"id\" id=\"id\" onChange={this.props.change} required/>\r\n                        {this.props.wrongA ? <label className=\"error\">כתובת דוא\"ל לא קיימת</label> : null}\r\n                        <div className=\"lineC\">\r\n                            <input type=\"submit\" value=\"המשך\" id=\"con\"/>\r\n                        </div>\r\n                    </form>\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            { this.props.showQ ?\r\n                <div className='popup'>\r\n                    <div className='popup_innerEmail' >\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                    <form onSubmit={this.props.handle}>\r\n                        <div className=\"lineC\"> \r\n                            <label  id=\"lq\">\r\n                                {this.props.question}\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"text\"  name=\"answer\" id=\"answer\" onChange={this.props.change} required/>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <label  id=\"ldate\">\r\n                                הכנס את תאריך יום הולדת שלך:\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"date\" name=\"date\" id=\"date\" max={today} onChange={this.props.change} required/>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            {this.props.wrongA ? <label className=\"error\">שאלת אימות לא נכונה או תאריך לידה שגוי</label> : null}\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"submit\" value=\"המשך\" id=\"con\"/>\r\n                        </div>\r\n                    </form>\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            { this.props.showChange ?\r\n                <div className='popup'>\r\n                    <div className='popup_innerEmail' >\r\n                        <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                        <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                        <form onSubmit={this.props.changePass}>\r\n                            <label  id=\"lpass\">\r\n                                סיסמא חדשה:\r\n                            </label>\r\n                            <input type=\"password\" className=\"inputs\" name=\"pass\" id=\"pass\" onChange={this.props.change} required/>\r\n                            <label id=\"lpass2\">\r\n                                הקלד את הסיסמא מחדש:\r\n                            </label>\r\n                            <input type=\"password\" className=\"inputs\" name=\"pass2\" id=\"pass2\" onChange={this.props.change} required/>\r\n                            {this.props.diff ? <label className=\"error\">הסיסמאות שונות</label> : null}\r\n                            <input type=\"submit\" value=\"שלח\" id=\"send\"/>\r\n                        </form>\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            { this.props.register ?\r\n                <div className='popup'>\r\n                    <div className='popup_innerAdd' >\r\n                        <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                        <h3>הרשמה</h3>\r\n                        <Adduser />\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n  }","import React, {Component} from 'react';\r\nimport \"./HomeLogin.css\"\r\nimport Login from \"./Login\"\r\nimport Logo from \"./Logo\"\r\nimport {\r\n    Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\nclass HomeLogin extends Component{\r\n\r\n    render(){\r\n        var path = window.location.pathname;\r\n        if(path.includes(\"search\")){\r\n            window.location.pathname = path.replace(\"search\", \"\");\r\n        }\r\n        return(\r\n            <div>\r\n                <div className=\"Home\">\r\n                    {sessionStorage.getItem(\"doctor\") === \"true\" ?  <Redirect from={path} to=\"/search\" /> : null  }\r\n                    <header className=\"Home-header\">\r\n                        <Logo />\r\n                        <Login />\r\n                    </header>\r\n                </div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomeLogin;","import React, {Component} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport App from './App';\r\nimport HomeLogin from './HomeLogin';\r\n\r\n\r\nclass Home extends Component{\r\n    /*\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    */\r\n\r\n    render(){\r\n        return(\r\n            <Router basename={window.location.pathname || ''}>\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <HomeLogin />\r\n                    </Route>\r\n                    <Route path=\"/search\">\r\n                        <App />\r\n                    </Route>\r\n                </Switch>\r\n              </Router>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<Home />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}